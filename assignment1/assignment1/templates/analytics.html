<!DOCTYPE html>
<html>
{% load nvd3_tags %}   
{% load static %} 

<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  <link rel="stylesheet" href="https://www.w3schools.com/w3css/4/w3.css">
  <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Raleway">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">    
  <script type="text/javascript" src="{% static "fusioncharts/fusioncharts.js" %}"></script>
  <script type="text/javascript" src="{% static "fusioncharts/themes/fusioncharts.theme.fint.js" %}"></script>
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>
  <script type="text/javascript">
  function opentab(evt, id_) {
      var i, tabcontent, tablinks;

      tabcontent = document.getElementsByClassName("tabcontent");
      for (i = 0; i < tabcontent.length; i++) {
          tabcontent[i].style.display = "none";
      }

      tablinks = document.getElementsByClassName("tablinks");
      for (i = 0; i < tablinks.length; i++) {
          tablinks[i].className = tablinks[i].className.replace(" active", "");
      }

      document.getElementById(id_).style.display = "block";
      evt.currentTarget.className += " active";
  }
  </script>
  <script type="text/javascript"> $(document).ready(function() { $(function() { $(document).on("click", "div.tab button:first-child", opentab(event, 'tab1')) }); }); </script>
  <style type="text/css">
  table   { display: table; border-collapse: collapse; padding: 10; table-layout: fixed; word-wrap:break-word; width: 100%}
  tr  { display: table-row; border: 1px solid #000; text-align: center;}
  td { display: table-cell; text-align: center;}
  html,body,h1,h2,h3,h4,h5 {font-family: "Raleway", sans-serif}
  html {
    padding: 50px 30px 50px 80px;
  }
  ul {
    text-align: justify;
  }
  li {
    display: inline-block;
    margin-right: -.25em;
    top: 1.25em;
    border-right:0.3px solid;
    vertical-align:top;
  }
  li:last-child {
    border-right:none;
}
  /* Style the tab */
  div.tab {
    overflow: hidden;
    border: 1px solid #ccc;
    background-color: #f1f1f1;
  }

  /* Style the buttons inside the tab */
  div.tab button {
    background-color: inherit;
    float: left;
    border: none;
    outline: none;
    cursor: pointer;
    padding: 14px 16px;
    transition: 0.3s;
  }

  /* Change background color of buttons on hover */
  div.tab button:hover {
    background-color: #ddd;
  }

  /* Create an active/current tablink class */
  div.tab button.active {
    background-color: #ccc;
  }

  /* Style the tab content */
  .tabcontent {
    display: none;
    padding: 6px 12px;
    border: 1px solid #ccc;
    border-top: none;
  }
  </style>
  <title>{% block title %}SurajShah (1211235204) AdaptiveWeb CSE591 Assignment 2{% endblock %}</title>
  {% include_chart_jscss %}
  {% load_chart charttype chartdata chartcontainer extra %}
  {% load_chart charttype1 chartdata1 chartcontainer1 extra1 %}
  {% load_chart charttype2 chartdata2 chartcontainer2 extra2 %}
  <h1>SurajShah (1211235204) AdaptiveWeb CSE591 Assignment 2</h1>
  {% if user.is_authenticated %}
  Hi {{ user.username }}!
  <a href="{% url 'logout' %}">logout</a>
  {% else %}
  <a href="{% url 'login' %}">login</a>
  {% endif %}
</head> <hr>
<body>
  {% if user.is_authenticated %}
  <h2><a href="{% url 'profile' %}">Profile</a></h2>
  {% endif %}
  <h2>Analytics</h2>
  <hr>
  <div class="tab">
    <button class="tablinks" onclick="opentab(event, 'tab1')">Tab1</button>
    <button class="tablinks" onclick="opentab(event, 'tab2')">Tab2</button>
  </div>

  <div id="tab1" class="tabcontent">
    <ul>
      <li style="padding:4px;"><h4>User Actions V/S Count</h4>
        {% include_container chartcontainer %}</li>
        <li style="padding:4px;"><h4>All Users' Actions V/S Count</h4>
          {% include_container chartcontainer1 %}</li>
          <li style="padding:4px;"><h4>Average User's Actions V/S Count</h4>
          {% include_container chartcontainer2 %}</li>
        </ul>
      </div>
      <div id="tab2" class="tabcontent">
        <ul>
      <li><div id="chart-1">{{ output|safe }}</div></li>
        <li><div id="chart-2">{{ output1|safe }}</div></li>
        </ul>
        
      </div>

    </body>
    </html>